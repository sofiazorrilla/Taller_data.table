---
title: "Filtros y selección de columnas"
format: 
  html:
    page-layout: full 
---

```{r}
#| echo: false
#| warning: false

library(tidyverse)
```


## Filtros y selección de filas


```{r}
#| echo: false
#| warning: false

library(data.table)

data = fread("big_data/NAM90/Height_INT.imputed.stats")

```

### Seleccionar por índices

```{r}
data[1:2]

data[1:2,]
```

### Filtrar filas

```{r}
data_month_2_3 <- data[year == "2014" & month == 2 | month == 3,] 

unique(data_month_2_3$month)
unique(data_month_2_3$year)

```

### Ordenar filas

```{r}
data[order(origin, -dest)]
```



## Seleccionar columnas

### Seleccionar columnas por índice

```{r}
data[,2:3,]
```


### Seleccionar columnas por nombre

Seleccionar columna por nombre y regresar como vector:

```{r}
data[,arr_delay] %>% head()
```

Seleccionar columna y regresar como tabla:

```{r}
data[,list(dep_delay,arr_delay)]
```

Un atajo para no escribir `list()` es `.()`:

```{r}
data[,.(dep_delay,arr_delay)]
```

Seleccionar columnas guardadas en una variable utilizando el prefijo `..`:

```{r}
variables <- c("arr_delay", "dep_delay")

data[ , ..variables]
```



### Renombrar columnas
```{r}
data[, .(delay_arr = arr_delay, delay_dep = dep_delay)]
```


